
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Code Reference &#8212; skypatrol</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="License" href="license.html" />
    <link rel="prev" title="Online GUI" href="website.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">skypatrol</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="getting_started.html">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="queries.html">
   Catalog Query Tools
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lightcurves.html">
   Light Curve Utilities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="additional.html">
   Additional Information
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="website.html">
   Online GUI
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Code Reference
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="license.html">
   License
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/{your-docs-url}"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/pyasassn.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-pyasassn.client">
   Client
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-pyasassn.utils">
   Light Curve Tools
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Code Reference</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-pyasassn.client">
   Client
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-pyasassn.utils">
   Light Curve Tools
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="code-reference">
<h1>Code Reference<a class="headerlink" href="#code-reference" title="Permalink to this headline">#</a></h1>
<section id="module-pyasassn.client">
<span id="client"></span><h2>Client<a class="headerlink" href="#module-pyasassn.client" title="Permalink to this headline">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pyasassn.client.SkyPatrolClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyasassn.client.</span></span><span class="sig-name descname"><span class="pre">SkyPatrolClient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.client.SkyPatrolClient" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<blockquote>
<div><p>The SkyPatrolClient allows users to interact with the ASAS-SN Sky Patrol photometry database.</p>
</div></blockquote>
<p>This client enables users to use ADQL, cone searches, random samples, and catalog ID lookups on the input catalogs.</p>
<p>Queries to the input catalogs will either be returned as pandas DataFrames containing aggregate information
on astronomical targets, or they will be returned as LightCurveCollections containing photometry data from all
queried targets.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pyasassn.client.SkyPatrolClient.InputCatalogs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InputCatalogs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">counts</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.client.SkyPatrolClient.InputCatalogs" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data structure for holding metadata on ASAS-SN Sky Patrol’s input catalogs.</p>
<p>Stores input catalog names as well as their searchable columns and total number of targets.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyasassn.client.SkyPatrolClient.InputCatalogs.catalog_names">
<span class="sig-name descname"><span class="pre">catalog_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.client.SkyPatrolClient.InputCatalogs.catalog_names" title="Permalink to this definition">#</a></dt>
<dd><p>Get all the names of our available input catalogs</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>names of all input catalogs (list)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyasassn.client.SkyPatrolClient.adql_query">
<span class="sig-name descname"><span class="pre">adql_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.client.SkyPatrolClient.adql_query" title="Permalink to this definition">#</a></dt>
<dd><p>Query the ASAS-SN Sky Patrol Input Catalogs with an ADQL string.
See README.md for more on accepted ADQL context and functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query_str</strong> – ADQL query string</p></li>
<li><p><strong>download</strong> – return full light curves if True, return catalog information if False</p></li>
<li><p><strong>save_dir</strong> – if set, then light curves will write to file as they are downloaded</p></li>
<li><p><strong>file_format</strong> – format to save light curves [‘parquet’, ‘pickle’, ‘csv’]</p></li>
<li><p><strong>threads</strong> – number of real threads to use for pulling light curves from server.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if ‘download’ if False; pandas Dataframe containing catalog information of targets;
else LightCurveCollection</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyasassn.client.SkyPatrolClient.cone_search">
<span class="sig-name descname"><span class="pre">cone_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra_deg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_deg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'deg'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'master_list'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.client.SkyPatrolClient.cone_search" title="Permalink to this definition">#</a></dt>
<dd><p>Query the ASAS-SN Sky Patrol Input Catalogs for all targets within a cone of the sky.
Does NOT return solar system targets (i.e. asteroids and coma).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra_deg</strong> – right ascension of cone.
accepts degree-decimal (float) or HH:MM:SS(.SS) sexagesimal (string)</p></li>
<li><p><strong>dec_deg</strong> – declination of cone.
accepts degree/decimal as float or DD:MM:SS(.SS) sexagesimal (string)</p></li>
<li><p><strong>radius</strong> – radius in degrees of cone, float</p></li>
<li><p><strong>units</strong> – units for cone radius.
‘deg’: degree decimal
‘arcmin’: arcminutes
‘arcsec’ arcseconds</p></li>
<li><p><strong>catalog</strong> – which catalog are we searching</p></li>
<li><p><strong>cols</strong> – columns to return from the given input catalog;
if None default = [‘asas_sn_id’, ‘ra_deg’, ‘dec_deg’]</p></li>
<li><p><strong>download</strong> – return full light curves if True, return catalog information if False</p></li>
<li><p><strong>save_dir</strong> – if set, then light curves will write to file as they are downloaded</p></li>
<li><p><strong>file_format</strong> – format to save light curves [‘parquet’, ‘pickle’, ‘csv’]</p></li>
<li><p><strong>threads</strong> – number of real threads to use for pulling light curves from server.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if ‘download’ if False; pandas Dataframe containing catalog information of targets;
else LightCurveCollection</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyasassn.client.SkyPatrolClient.query_list">
<span class="sig-name descname"><span class="pre">query_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'asas_sn_id'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'master_list'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.client.SkyPatrolClient.query_list" title="Permalink to this definition">#</a></dt>
<dd><p>Query the ASAS-SN Sky Patrol Input Catalogs for all targets with the given identifiers.
to view the available list of catalogs and identifiers see SkyPatrolClient.catalogs.</p>
<p>Most of our astronomical targets are in the stellar_main catalog, which has been pre-crossmatched to GaiaDR2,
ATLAS Refcat2, SDSS, AllWISE, and Tess Input Catalog (TIC v8).</p>
<p>Thus searching for light curves with a list of Gaia IDs would require catalog=’stellar_main’, id_col=’gaia_id’.
Our other input catalogs should be searched with id_col=’name’, or by columns giving alternative ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_ids</strong> – list of target ids for query; list</p></li>
<li><p><strong>id_col</strong> – the column on the given catalog to search against; string</p></li>
<li><p><strong>catalog</strong> – which catalog are we searching</p></li>
<li><p><strong>cols</strong> – columns to return from the given input catalog;
if None default = [‘asas_sn_id’, ‘ra_deg’, ‘dec_deg’]</p></li>
<li><p><strong>download</strong> – return full light curves if True, return catalog information if False</p></li>
<li><p><strong>save_dir</strong> – if set, then light curves will write to file as they are downloaded</p></li>
<li><p><strong>file_format</strong> – format to save light curves [‘parquet’, ‘pickle’, ‘csv’]</p></li>
<li><p><strong>threads</strong> – number of real threads to use for pulling light curves from server.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if ‘download’ if False; pandas Dataframe containing catalog information of targets;
else LightCurveCollection</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyasassn.client.SkyPatrolClient.random_sample">
<span class="sig-name descname"><span class="pre">random_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'master_list'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.client.SkyPatrolClient.random_sample" title="Permalink to this definition">#</a></dt>
<dd><p>Get n random targets from the ASAS-SN Sky Patrol Input Catalogs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> – number of targets to randomly sample</p></li>
<li><p><strong>catalog</strong> – which catalog are we searching</p></li>
<li><p><strong>cols</strong> – columns to return from the given input catalog;
if None default = [‘asas_sn_id’, ‘ra_deg’, ‘dec_deg’]</p></li>
<li><p><strong>download</strong> – return full light curves if True, return catalog information if False</p></li>
<li><p><strong>save_dir</strong> – if set, then light curves will write to file as they are downloaded</p></li>
<li><p><strong>file_format</strong> – format to save light curves [‘parquet’, ‘pickle’, ‘csv’]</p></li>
<li><p><strong>threads</strong> – number of real threads to use for pulling light curves from server.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>if ‘download’ if False; pandas Dataframe containing catalog information of targets;
else LightCurveCollection</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyasassn.client.load_collection">
<span class="sig-prename descclassname"><span class="pre">pyasassn.client.</span></span><span class="sig-name descname"><span class="pre">load_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parquet'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.client.load_collection" title="Permalink to this definition">#</a></dt>
<dd><p>Loads a LightCurveCollection from directory.
Requires an index and light curve files saved from previous collection
:param save_dir: path where collection is saved
:param file_format: format of saved light curves
:return: LightCurveCollection</p>
</dd></dl>

</section>
<section id="module-pyasassn.utils">
<span id="light-curve-tools"></span><h2>Light Curve Tools<a class="headerlink" href="#module-pyasassn.utils" title="Permalink to this headline">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pyasassn.utils.LightCurve">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyasassn.utils.</span></span><span class="sig-name descname"><span class="pre">LightCurve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pandas_obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.utils.LightCurve" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Object for analysing and visualizing ASAS-SN Sky Patrol light curves.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyasassn.utils.LightCurve.find_period">
<span class="sig-name descname"><span class="pre">find_period</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frequency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">best_frequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(12,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_poor_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_non_det</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.utils.LightCurve.find_period" title="Permalink to this definition">#</a></dt>
<dd><p>Find the period of the light curve given the power spectrum produced by lomb_scargle.
Also produces a phase-folded plot of the light curve.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frequency</strong> – frequency from lomb_scargle()</p></li>
<li><p><strong>power</strong> – power from lomb_scargle()</p></li>
<li><p><strong>best_frequency</strong> – peak frequency for phase folding the light curve</p></li>
<li><p><strong>plot</strong> – if True, then the function also produces a plot of the phase-folded light curve</p></li>
<li><p><strong>figsize</strong> – size of the plot</p></li>
<li><p><strong>savefile</strong> – file name to save the plot; if None plot will be directly displayed</p></li>
<li><p><strong>include_poor_images</strong> – whether or not to include images of poor or unknown quality; defaults to False</p></li>
<li><p><strong>include_non_det</strong> – whether or not to include non-detection events in analysis; defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>period of the light curve</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyasassn.utils.LightCurve.lomb_scargle">
<span class="sig-name descname"><span class="pre">lomb_scargle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fit_mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nterms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'standard'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_frequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maximum_frequency</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples_per_peak</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nyquist_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(12,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_poor_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_non_det</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.utils.LightCurve.lomb_scargle" title="Permalink to this definition">#</a></dt>
<dd><p>Thin wrapper around the astropy LombScargle utility to determine frequency and power spectra of the given
light curve. Default values work for most variable sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fit_mean</strong> – if True, include a constant offset as part of the model at each frequency. This can lead to more accurate results, especially in the case of incomplete phase coverage.</p></li>
<li><p><strong>center_data</strong> – if True, pre-center the data by subtracting the weighted mean of the input data. This is especially important if fit_mean = False</p></li>
<li><p><strong>nterms</strong> – number of terms to use in the Fourier fit</p></li>
<li><p><strong>normalization</strong> – Normalization to use for the periodogram.</p></li>
<li><p><strong>minimum_frequency</strong> – If specified, then use this minimum frequency rather than one chosen based on the size of the baseline.</p></li>
<li><p><strong>maximum_frequency</strong> – If specified, then use this maximum frequency rather than one chosen based on the average nyquist frequency.</p></li>
<li><p><strong>method</strong> – <p>specify the lomb scargle implementation to use. Options are:</p>
<ul>
<li><p>‘auto’: choose the best method based on the input</p></li>
<li><p>‘fast’: use the O[N log N] fast method. Note that this requires evenly-spaced frequencies: by default this will be checked unless assume_regular_frequency is set to True.</p></li>
<li><p>‘slow’: use the O[N^2] pure-python implementation</p></li>
<li><p>‘cython’: use the O[N^2] cython implementation. This is slightly faster than method=’slow’, but much more memory efficient.</p></li>
<li><p>‘chi2’: use the O[N^2] chi2/linear-fitting implementation</p></li>
<li><p>‘fastchi2’: use the O[N log N] chi2 implementation. Note that this requires evenly-spaced frequencies: by default this will be checked unless assume_regular_frequency is set to True.</p></li>
<li><p>‘scipy’: use scipy.signal.lombscargle, which is an O[N^2] implementation written in C. Note that this does not support heteroskedastic errors.</p></li>
</ul>
</p></li>
<li><p><strong>samples_per_peak</strong> – The approximate number of desired samples across the typical peak</p></li>
<li><p><strong>nyquist_factor</strong> – The multiple of the average nyquist frequency used to choose the maximum frequency if maximum_frequency is not provided.</p></li>
<li><p><strong>plot</strong> – if True, then the function also produces a plot of the power spectrum.</p></li>
<li><p><strong>figsize</strong> – size of the plot.</p></li>
<li><p><strong>savefile</strong> – file name to save the plot; if None plot will be directly displayed</p></li>
<li><p><strong>include_poor_images</strong> – whether or not to include images of poor or unknown quality; defaults to False</p></li>
<li><p><strong>include_non_det</strong> – whether or not to include non-detection events in analysis; defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>power, frequency and the astropy LombScargle object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyasassn.utils.LightCurve.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(12,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_poor_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.utils.LightCurve.plot" title="Permalink to this definition">#</a></dt>
<dd><p>Plots the given light curve with error bars.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>figsize</strong> – size of the plot</p></li>
<li><p><strong>savefile</strong> – file name to save the plot; if None plot will be directly displayed</p></li>
<li><p><strong>include_poor_images</strong> – whether or not to include images of poor or unknown quality; defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>void</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyasassn.utils.LightCurve.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parquet'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.utils.LightCurve.save" title="Permalink to this definition">#</a></dt>
<dd><p>Save the light curve to csv.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – filename to save this light curve.</p></li>
<li><p><strong>file_format</strong> – file format of saved objects [‘parquet’, ‘csv’, ‘pickle’]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>void</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyasassn.utils.LightCurveCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyasassn.utils.</span></span><span class="sig-name descname"><span class="pre">LightCurveCollection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_col</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.utils.LightCurveCollection" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Object for storing and analysing ASAS-SN Sky Patrol light curves.
Returned by any SkyPatrolClient query where download=True</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyasassn.utils.LightCurveCollection.apply_function">
<span class="sig-name descname"><span class="pre">apply_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mag'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_non_det</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_poor_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.utils.LightCurveCollection.apply_function" title="Permalink to this definition">#</a></dt>
<dd><p>Apply a custom aggregate function to all light curves in the collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> – custom aggregate function</p></li>
<li><p><strong>col</strong> – column to apply aggregate function; defaluts to ‘mag’</p></li>
<li><p><strong>include_non_det</strong> – whether or not to include non-detection events in analysis; defaults to False</p></li>
</ul>
</dd>
</dl>
<p>:param include_poor_images whether or not to include images of poor or unknown quality; defaults to False
:return: pandas Dataframe with results</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyasassn.utils.LightCurveCollection.itercurves">
<span class="sig-name descname"><span class="pre">itercurves</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.utils.LightCurveCollection.itercurves" title="Permalink to this definition">#</a></dt>
<dd><p>Generator to iterate through all light curves in the collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a generator that iterates over the collection</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyasassn.utils.LightCurveCollection.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'parquet'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.utils.LightCurveCollection.save" title="Permalink to this definition">#</a></dt>
<dd><p>Saves entire light curve collection to a given directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save_dir</strong> – directory name</p></li>
<li><p><strong>file_format</strong> – file format of saved objects [‘parquet’, ‘csv’, ‘pickle’]</p></li>
<li><p><strong>include_index</strong> – whether or not to save index (catalog_info)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>filenames</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyasassn.utils.LightCurveCollection.stats">
<span class="sig-name descname"><span class="pre">stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_non_det</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_poor_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyasassn.utils.LightCurveCollection.stats" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate simple aggregate statistics on the collection.
Gets the mean and stddev magnitude for each curve as well as the total number of epochs observed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_poor_images</strong> – whether or not to include images of poor or unknown quality; defaults to False</p></li>
<li><p><strong>include_non_det</strong> – whether or not to include non-detection events in analysis; defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pandas Dataframe with results</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="website.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Online GUI</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="license.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">License</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By ASAS-SN<br/>
  
      &copy; Copyright 2020, ASAS-SN.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>